/**
 * ngvenezuela.github.io - Sitio web de la comunidad de Desarrolladores y Entusiastas de Angular en Venezuela
 * @author 
 * @version v1.0.0
 * @link https://github.com/ngVenezuela/ngvenezuela.github.io#readme
 */

/**
 * Módulo de la aplicación
 */
/*jslint browser: true*/
/*global $, angular*/
(function () {
    'use strict';
    angular
        .module('ng.venezuela', [
            'ui.router',
            'github.ng.venezuela'
        ]);
})();

/**
 * Rutas de la aplicación.
 */
/*jslint browser: true*/
/*global $, angular, routes, removerCache*/
(function () {
    'use strict';
    angular
        .module('ng.venezuela')
        .config(routes)
        .run(removerCache);

    // Inyectando dependencias.
    routes.$inject = ['$stateProvider', '$urlRouterProvider', '$locationProvider'];
    /**
     * @description gestiona las rutas de la aplicación.
     * @param $stateProvider
     * @param $urlRouterProvider
     */
    function routes($stateProvider, $urlRouterProvider, $locationProvider) {
        $urlRouterProvider.otherwise('/');
        $stateProvider
            .state('home', {
            url : '/',
            controller: 'HomeController',
            controllerAs : 'ctrl',
            templateUrl : './templates/home/home_tpl.html'
        })
            .state('quienes', {
            url: '/quienes-somos',
            controller: 'QuienesSomosController',
            controllerAs: 'ctrl',
            templateUrl: './templates/quienes/quienes_tpl.html'
        })
            .state('repos', {
            url: '/repos',
            controller: 'RepoController',
            controllerAs: 'ctrl',
            templateUrl: './templates/repos/repos_tpl.html'
        })
            .state('unirme', {
            url: '/quiero-unirme',
            templateUrl: './templates/unirme/unirme_tpl.html'
        })
            .state('contacto', {
            url: '/contacto',
            templateUrl: './templates/contacto/contacto_tpl.html'
        });
        $locationProvider.html5Mode(false);
    }
    // Inyectando dependencias.
    removerCache.$inject = ['$rootScope', '$templateCache'];
    /**
     * @description Remueve el cache al detectar que un cambio de ruta comienza.
     * @param $rootScope
     * @param $templateCache
     */
    function removerCache($rootScope, $templateCache) {
        $rootScope.$on('$routeChangeStart', function (event, next, current) {
            if (typeof (current) !== 'undefined') {
                $templateCache.remove(current.templateUrl);
            }
        });
    }

})();

/**
 * Github Service
 * Servicio de comunicación con la
 * API de Github, versión 3.0
 */
(function () {
    'use strict';
    angular
        .module('github.ng.venezuela',[])
        .constant('gh',{
        BASE    : 'https://api.github.com',
        ORG     : '/orgs/ngVenezuela',
        REPOS   : '/orgs/ngVenezuela/repos',
        MEMBERS : '/orgs/ngVenezuela/members'
    })
        .factory('GitHub',githubService);

    //Inyectando Dependencias
    githubService.$inject = ['$log','$http','gh'];
    function githubService ($log, $http,gh) {
        return {
            organizacion : getOrganizacion,
            repositorios : getRepos,
            miembros     : getMembers
        };
        /**
        * @description realiza una petición a la API de Github
        * solicitando la información de ngVenezuela como
        * oganización.
        */
        function getOrganizacion () {
            var peticion = $http({
                method : 'GET',
                url : gh.BASE+gh.ORG
            });
            return peticion
                .then(function(response){
                return response.data;
            })
                .catch(function(response){
                $log.error('Error organizacion');
                return response;
            });
        }
        /**
        * @description realiza una petición a la API de Github
        * solicitando la información de los repos de ngVenezuela.
        */
        function getRepos () {
            var peticion = $http({
                method : 'GET',
                url : gh.BASE+gh.REPOS
            });
            return peticion
                .then(function(response){
                return response.data;
            })
                .catch(function(response){
                $log.error('Error organizacion');
                return response;
            });
        }
        function getMembers () {
            var peticion = $http({
                method : 'GET',
                url : gh.BASE+gh.MEMBERS
            });
            return peticion
                .then(function(response){
                return response.data;
            })
                .catch(function(response){
                $log.error('Error organizacion');
                return response;
            });
        }
    } // Fin githubService
})();

/**
 * Controladores de la aplicación.
 */
/*jslint browser: true*/
/*global $, angular, Organizacion, Repositorios,
QuienesSomos, execute, ObtenerInformacion, ObtenerRepos*/
(function () {
    'use strict';
    angular
        .module('ng.venezuela')
        .controller('HomeController', Organizacion)
        .controller('RepoController', Repositorios)
        .controller('QuienesSomosController', QuienesSomos);
    Organizacion.$inject = ['GitHub'];
    function Organizacion(GitHub) {
        var vm = this;
        vm.organizacion = {};
        execute();
        function execute() {
            return new ObtenerInformacion();
        }
        function ObtenerInformacion() {
            return GitHub.organizacion()
                .then(function (data) {
                vm.organizacion = data;
                //console.log(data);
                return vm.organizacion;
            });
        }
    }
    function Repositorios(GitHub) {
        var vm = this;
        vm.repositorios = {};
        execute();
        function execute() {
            return new ObtenerRepos();
        }
        function ObtenerRepos() {
            return GitHub.repositorios()
                .then(function (data) {
                vm.repositorios = data;
                //console.log(data);
                return vm.repositorios;
            });
        }
    }
    function QuienesSomos() {

    }

})(); // fin main function

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5nVmVuZXp1ZWxhLm1vZHVsZS5qcyIsIm5nVmVuZXp1ZWxhLnJvdXRlcy5qcyIsImdpdGh1Yi5zZXJ2aWNlLmpzIiwibmdWZW5lenVlbGEuY29udHJvbGxlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ2JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDbEVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDOUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImFwcC1saWJzLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogTcOzZHVsbyBkZSBsYSBhcGxpY2FjacOzblxuICovXG4vKmpzbGludCBicm93c2VyOiB0cnVlKi9cbi8qZ2xvYmFsICQsIGFuZ3VsYXIqL1xuKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCduZy52ZW5lenVlbGEnLCBbXG4gICAgICAgICAgICAndWkucm91dGVyJyxcbiAgICAgICAgICAgICdnaXRodWIubmcudmVuZXp1ZWxhJ1xuICAgICAgICBdKTtcbn0pKCk7XG4iLCIvKipcbiAqIFJ1dGFzIGRlIGxhIGFwbGljYWNpw7NuLlxuICovXG4vKmpzbGludCBicm93c2VyOiB0cnVlKi9cbi8qZ2xvYmFsICQsIGFuZ3VsYXIsIHJvdXRlcywgcmVtb3ZlckNhY2hlKi9cbihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbmcudmVuZXp1ZWxhJylcbiAgICAgICAgLmNvbmZpZyhyb3V0ZXMpXG4gICAgICAgIC5ydW4ocmVtb3ZlckNhY2hlKTtcblxuICAgIC8vIElueWVjdGFuZG8gZGVwZW5kZW5jaWFzLlxuICAgIHJvdXRlcy4kaW5qZWN0ID0gWyckc3RhdGVQcm92aWRlcicsICckdXJsUm91dGVyUHJvdmlkZXInLCAnJGxvY2F0aW9uUHJvdmlkZXInXTtcbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gZ2VzdGlvbmEgbGFzIHJ1dGFzIGRlIGxhIGFwbGljYWNpw7NuLlxuICAgICAqIEBwYXJhbSAkc3RhdGVQcm92aWRlclxuICAgICAqIEBwYXJhbSAkdXJsUm91dGVyUHJvdmlkZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByb3V0ZXMoJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlciwgJGxvY2F0aW9uUHJvdmlkZXIpIHtcbiAgICAgICAgJHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZSgnLycpO1xuICAgICAgICAkc3RhdGVQcm92aWRlclxuICAgICAgICAgICAgLnN0YXRlKCdob21lJywge1xuICAgICAgICAgICAgdXJsIDogJy8nLFxuICAgICAgICAgICAgY29udHJvbGxlcjogJ0hvbWVDb250cm9sbGVyJyxcbiAgICAgICAgICAgIGNvbnRyb2xsZXJBcyA6ICdjdHJsJyxcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsIDogJy4vdGVtcGxhdGVzL2hvbWUvaG9tZV90cGwuaHRtbCdcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5zdGF0ZSgncXVpZW5lcycsIHtcbiAgICAgICAgICAgIHVybDogJy9xdWllbmVzLXNvbW9zJyxcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdRdWllbmVzU29tb3NDb250cm9sbGVyJyxcbiAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2N0cmwnLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcuL3RlbXBsYXRlcy9xdWllbmVzL3F1aWVuZXNfdHBsLmh0bWwnXG4gICAgICAgIH0pXG4gICAgICAgICAgICAuc3RhdGUoJ3JlcG9zJywge1xuICAgICAgICAgICAgdXJsOiAnL3JlcG9zJyxcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdSZXBvQ29udHJvbGxlcicsXG4gICAgICAgICAgICBjb250cm9sbGVyQXM6ICdjdHJsJyxcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnLi90ZW1wbGF0ZXMvcmVwb3MvcmVwb3NfdHBsLmh0bWwnXG4gICAgICAgIH0pXG4gICAgICAgICAgICAuc3RhdGUoJ3VuaXJtZScsIHtcbiAgICAgICAgICAgIHVybDogJy9xdWllcm8tdW5pcm1lJyxcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnLi90ZW1wbGF0ZXMvdW5pcm1lL3VuaXJtZV90cGwuaHRtbCdcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5zdGF0ZSgnY29udGFjdG8nLCB7XG4gICAgICAgICAgICB1cmw6ICcvY29udGFjdG8nLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcuL3RlbXBsYXRlcy9jb250YWN0by9jb250YWN0b190cGwuaHRtbCdcbiAgICAgICAgfSk7XG4gICAgICAgICRsb2NhdGlvblByb3ZpZGVyLmh0bWw1TW9kZShmYWxzZSk7XG4gICAgfVxuICAgIC8vIElueWVjdGFuZG8gZGVwZW5kZW5jaWFzLlxuICAgIHJlbW92ZXJDYWNoZS4kaW5qZWN0ID0gWyckcm9vdFNjb3BlJywgJyR0ZW1wbGF0ZUNhY2hlJ107XG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIFJlbXVldmUgZWwgY2FjaGUgYWwgZGV0ZWN0YXIgcXVlIHVuIGNhbWJpbyBkZSBydXRhIGNvbWllbnphLlxuICAgICAqIEBwYXJhbSAkcm9vdFNjb3BlXG4gICAgICogQHBhcmFtICR0ZW1wbGF0ZUNhY2hlXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVtb3ZlckNhY2hlKCRyb290U2NvcGUsICR0ZW1wbGF0ZUNhY2hlKSB7XG4gICAgICAgICRyb290U2NvcGUuJG9uKCckcm91dGVDaGFuZ2VTdGFydCcsIGZ1bmN0aW9uIChldmVudCwgbmV4dCwgY3VycmVudCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiAoY3VycmVudCkgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgJHRlbXBsYXRlQ2FjaGUucmVtb3ZlKGN1cnJlbnQudGVtcGxhdGVVcmwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbn0pKCk7XG4iLCIvKipcbiAqIEdpdGh1YiBTZXJ2aWNlXG4gKiBTZXJ2aWNpbyBkZSBjb211bmljYWNpw7NuIGNvbiBsYVxuICogQVBJIGRlIEdpdGh1YiwgdmVyc2nDs24gMy4wXG4gKi9cbihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnZ2l0aHViLm5nLnZlbmV6dWVsYScsW10pXG4gICAgICAgIC5jb25zdGFudCgnZ2gnLHtcbiAgICAgICAgQkFTRSAgICA6ICdodHRwczovL2FwaS5naXRodWIuY29tJyxcbiAgICAgICAgT1JHICAgICA6ICcvb3Jncy9uZ1ZlbmV6dWVsYScsXG4gICAgICAgIFJFUE9TICAgOiAnL29yZ3MvbmdWZW5lenVlbGEvcmVwb3MnLFxuICAgICAgICBNRU1CRVJTIDogJy9vcmdzL25nVmVuZXp1ZWxhL21lbWJlcnMnXG4gICAgfSlcbiAgICAgICAgLmZhY3RvcnkoJ0dpdEh1YicsZ2l0aHViU2VydmljZSk7XG5cbiAgICAvL0lueWVjdGFuZG8gRGVwZW5kZW5jaWFzXG4gICAgZ2l0aHViU2VydmljZS4kaW5qZWN0ID0gWyckbG9nJywnJGh0dHAnLCdnaCddO1xuICAgIGZ1bmN0aW9uIGdpdGh1YlNlcnZpY2UgKCRsb2csICRodHRwLGdoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBvcmdhbml6YWNpb24gOiBnZXRPcmdhbml6YWNpb24sXG4gICAgICAgICAgICByZXBvc2l0b3Jpb3MgOiBnZXRSZXBvcyxcbiAgICAgICAgICAgIG1pZW1icm9zICAgICA6IGdldE1lbWJlcnNcbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICogQGRlc2NyaXB0aW9uIHJlYWxpemEgdW5hIHBldGljacOzbiBhIGxhIEFQSSBkZSBHaXRodWJcbiAgICAgICAgKiBzb2xpY2l0YW5kbyBsYSBpbmZvcm1hY2nDs24gZGUgbmdWZW5lenVlbGEgY29tb1xuICAgICAgICAqIG9nYW5pemFjacOzbi5cbiAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gZ2V0T3JnYW5pemFjaW9uICgpIHtcbiAgICAgICAgICAgIHZhciBwZXRpY2lvbiA9ICRodHRwKHtcbiAgICAgICAgICAgICAgICBtZXRob2QgOiAnR0VUJyxcbiAgICAgICAgICAgICAgICB1cmwgOiBnaC5CQVNFK2doLk9SR1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcGV0aWNpb25cbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbihyZXNwb25zZSl7XG4gICAgICAgICAgICAgICAgJGxvZy5lcnJvcignRXJyb3Igb3JnYW5pemFjaW9uJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICogQGRlc2NyaXB0aW9uIHJlYWxpemEgdW5hIHBldGljacOzbiBhIGxhIEFQSSBkZSBHaXRodWJcbiAgICAgICAgKiBzb2xpY2l0YW5kbyBsYSBpbmZvcm1hY2nDs24gZGUgbG9zIHJlcG9zIGRlIG5nVmVuZXp1ZWxhLlxuICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBnZXRSZXBvcyAoKSB7XG4gICAgICAgICAgICB2YXIgcGV0aWNpb24gPSAkaHR0cCh7XG4gICAgICAgICAgICAgICAgbWV0aG9kIDogJ0dFVCcsXG4gICAgICAgICAgICAgICAgdXJsIDogZ2guQkFTRStnaC5SRVBPU1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcGV0aWNpb25cbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbihyZXNwb25zZSl7XG4gICAgICAgICAgICAgICAgJGxvZy5lcnJvcignRXJyb3Igb3JnYW5pemFjaW9uJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gZ2V0TWVtYmVycyAoKSB7XG4gICAgICAgICAgICB2YXIgcGV0aWNpb24gPSAkaHR0cCh7XG4gICAgICAgICAgICAgICAgbWV0aG9kIDogJ0dFVCcsXG4gICAgICAgICAgICAgICAgdXJsIDogZ2guQkFTRStnaC5NRU1CRVJTXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwZXRpY2lvblxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uKHJlc3BvbnNlKXtcbiAgICAgICAgICAgICAgICAkbG9nLmVycm9yKCdFcnJvciBvcmdhbml6YWNpb24nKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0gLy8gRmluIGdpdGh1YlNlcnZpY2Vcbn0pKCk7XG4iLCIvKipcbiAqIENvbnRyb2xhZG9yZXMgZGUgbGEgYXBsaWNhY2nDs24uXG4gKi9cbi8qanNsaW50IGJyb3dzZXI6IHRydWUqL1xuLypnbG9iYWwgJCwgYW5ndWxhciwgT3JnYW5pemFjaW9uLCBSZXBvc2l0b3Jpb3MsXG5RdWllbmVzU29tb3MsIGV4ZWN1dGUsIE9idGVuZXJJbmZvcm1hY2lvbiwgT2J0ZW5lclJlcG9zKi9cbihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbmcudmVuZXp1ZWxhJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ0hvbWVDb250cm9sbGVyJywgT3JnYW5pemFjaW9uKVxuICAgICAgICAuY29udHJvbGxlcignUmVwb0NvbnRyb2xsZXInLCBSZXBvc2l0b3Jpb3MpXG4gICAgICAgIC5jb250cm9sbGVyKCdRdWllbmVzU29tb3NDb250cm9sbGVyJywgUXVpZW5lc1NvbW9zKTtcbiAgICBPcmdhbml6YWNpb24uJGluamVjdCA9IFsnR2l0SHViJ107XG4gICAgZnVuY3Rpb24gT3JnYW5pemFjaW9uKEdpdEh1Yikge1xuICAgICAgICB2YXIgdm0gPSB0aGlzO1xuICAgICAgICB2bS5vcmdhbml6YWNpb24gPSB7fTtcbiAgICAgICAgZXhlY3V0ZSgpO1xuICAgICAgICBmdW5jdGlvbiBleGVjdXRlKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBPYnRlbmVySW5mb3JtYWNpb24oKTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBPYnRlbmVySW5mb3JtYWNpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gR2l0SHViLm9yZ2FuaXphY2lvbigpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICB2bS5vcmdhbml6YWNpb24gPSBkYXRhO1xuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coZGF0YSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZtLm9yZ2FuaXphY2lvbjtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIFJlcG9zaXRvcmlvcyhHaXRIdWIpIHtcbiAgICAgICAgdmFyIHZtID0gdGhpcztcbiAgICAgICAgdm0ucmVwb3NpdG9yaW9zID0ge307XG4gICAgICAgIGV4ZWN1dGUoKTtcbiAgICAgICAgZnVuY3Rpb24gZXhlY3V0ZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgT2J0ZW5lclJlcG9zKCk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gT2J0ZW5lclJlcG9zKCkge1xuICAgICAgICAgICAgcmV0dXJuIEdpdEh1Yi5yZXBvc2l0b3Jpb3MoKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgdm0ucmVwb3NpdG9yaW9zID0gZGF0YTtcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICAgICAgICAgIHJldHVybiB2bS5yZXBvc2l0b3Jpb3M7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBRdWllbmVzU29tb3MoKSB7XG5cbiAgICB9XG5cbn0pKCk7IC8vIGZpbiBtYWluIGZ1bmN0aW9uXG4iXX0=
